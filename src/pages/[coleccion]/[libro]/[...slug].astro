---
import { getCollection } from "astro:content";
import { render } from "astro:content";
import BlogPost from "../../../layouts/BlogPost.astro";

const { coleccion, libro, slug } = Astro.params;

const posts = await getCollection(coleccion);

let post = posts.filter((post) => post.id.includes(`${libro}/${slug}`))[0];

const { Content } = await render(post);

const baseURL = `/${coleccion}/${libro}/`;
---

<BlogPost {...post.data} baseURL={baseURL}>
  <Content />
</BlogPost>
